# Heartbeat Automation - Cron Configuration
# 心跳任務自動化 - Cron 排程配置

# 時區設定
TZ=Asia/Taipei

#=============================================================================
# 心跳任務排程
# 執行時間：每天 08:00, 14:00, 20:00
#=============================================================================

#----------------------------------------------------------------------------
# 早晨任務 (08:00)
#----------------------------------------------------------------------------

# GitHub 技能搜尋（早晨）
0 8 * * * /usr/bin/bash /Users/pc/.openclaw/workspace/scripts/heartbeat-automation.sh --task github_skill_search >> /Users/pc/.openclaw/workspace/logs/heartbeat_cron.log 2>&1

# 系統健康檢查（早晨）
0 8 * * * /usr/bin/bash /Users/pc/.openclaw/workspace/scripts/heartbeat-automation.sh --task system_health_check >> /Users/pc/.openclaw/workspace/logs/heartbeat_cron.log 2>&1

#----------------------------------------------------------------------------
# 午後任務 (14:00)
#----------------------------------------------------------------------------

# 系統健康檢查（午後）
0 14 * * * /usr/bin/bash /Users/pc/.openclaw/workspace/scripts/heartbeat-automation.sh --task system_health_check >> /Users/pc/.openclaw/workspace/logs/heartbeat_cron.log 2>&1

# 知識提取（午後）
0 14 * * * /usr/bin/bash /Users/pc/.openclaw/workspace/scripts/heartbeat-automation.sh --task knowledge_extraction >> /Users/pc/.openclaw/workspace/logs/heartbeat_cron.log 2>&1

#----------------------------------------------------------------------------
# 晚間任務 (20:00)
#----------------------------------------------------------------------------

# GitHub 技能搜尋（晚間）
0 20 * * * /usr/bin/bash /Users/pc/.openclaw/workspace/scripts/heartbeat-automation.sh --task github_skill_search >> /Users/pc/.openclaw/workspace/logs/heartbeat_cron.log 2>&1

# 系統健康檢查（晚間）
0 20 * * * /usr/bin/bash /Users/pc/.openclaw/workspace/scripts/heartbeat-automation.sh --task system_health_check >> /Users/pc/.openclaw/workspace/logs/heartbeat_cron.log 2>&1

#=============================================================================
# 連動觸發排程
#=============================================================================

# 每週技能庫更新（週日 22:00）
0 22 * * 0 /usr/bin/bash /Users/pc/.openclaw/workspace/scripts/skill-linkage-runner.sh --linkage research_chain >> /Users/pc/.openclaw/workspace/logs/linkage_cron.log 2>&1

# 每月系統優化（每月1日 06:00）
0 6 1 * * /usr/bin/bash /Users/pc/.openclaw/workspace/scripts/automation-runner.sh --mode all >> /Users/pc/.openclaw/workspace/logs/automation_cron.log 2>&1

#=============================================================================
# 使用說明
#=============================================================================

# 安裝排程：
# 1. 複製此檔案內容
# 2. 執行 crontab -e
# 3. 貼上內容並儲存

# 檢視排程：
# crontab -l

# 移除排程：
# crontab -r

# 手動執行：
# /usr/bin/bash /Users/pc/.openclaw/workspace/scripts/heartbeat-automation.sh --task all

#=============================================================================
# 監控與日誌
#=============================================================================

# 日誌位置：
# - /Users/pc/.openclaw/workspace/logs/heartbeat_cron.log
# - /Users/pc/.openclaw/workspace/logs/linkage_cron.log
# - /Users/pc/.openclaw/workspace/logs/automation_cron.log

# 監控命令：
# tail -f /Users/pc/.openclaw/workspace/logs/heartbeat_cron.log
